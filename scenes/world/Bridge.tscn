[gd_scene load_steps=13 format=3 uid="uid://b6uyrw5eppb2s"]

[ext_resource type="Script" path="res://scenes/world/Bridge.gd" id="1_ejm3d"]
[ext_resource type="Texture2D" uid="uid://d18sk7ksu5dfw" path="res://assets/sprites/bg/lab-02/BridgePastTemp.png" id="2_4vkfo"]
[ext_resource type="Texture2D" uid="uid://d1wqwubhfoq26" path="res://assets/sprites/bg/lab-02/BridgeFutureTemp.png" id="2_h3mss"]
[ext_resource type="AudioStream" uid="uid://b244747mcilks" path="res://assets/music/lab_present.ogg" id="2_hqbr5"]
[ext_resource type="AudioStream" uid="uid://cmblol3d5mrtv" path="res://assets/music/lab_past.ogg" id="3_qf6fd"]
[ext_resource type="PackedScene" uid="uid://c0bdaa1uhiriw" path="res://scenes/tools/SpawnPoint.tscn" id="4_jxdx0"]
[ext_resource type="PackedScene" uid="uid://c3oggqxbkn0u0" path="res://scenes/props/star-fragment/StarFragment.tscn" id="4_x0vyj"]
[ext_resource type="PackedScene" uid="uid://dmllerypcllhe" path="res://scenes/tools/SceneTransition.tscn" id="5_l42oa"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_of81s"]
size = Vector2(323, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3le00"]
size = Vector2(20, 60.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wm5bs"]
size = Vector2(10, 75)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vanw0"]
size = Vector2(10, 75)

[node name="Bridge" type="Node2D" node_paths=PackedStringArray("star_fragment", "past_nodes", "future_nodes")]
position = Vector2(147, 80)
script = ExtResource("1_ejm3d")
star_fragment = NodePath("Future/StarFragment")
future_music = ExtResource("2_hqbr5")
past_music = ExtResource("3_qf6fd")
past_nodes = NodePath("Past")
future_nodes = NodePath("Future")

[node name="Past" type="Node2D" parent="."]

[node name="BridgePastTemp" type="Sprite2D" parent="Past"]
position = Vector2(-147, -80)
texture = ExtResource("2_4vkfo")

[node name="Cliff edges" type="Node2D" parent="Past"]

[node name="StaticBody2D" type="StaticBody2D" parent="Past/Cliff edges"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Past/Cliff edges/StaticBody2D"]
polygon = PackedVector2Array(-135, -162, -138, -129, -138, -113, -40, -114, -33, -126, -41, -141, -61, -172, -134, -173)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Past/Cliff edges/StaticBody2D"]
polygon = PackedVector2Array(-156, 5, -152, -11, -147, -35, -147, -74, -34, -73, -30, -36, 9, 17)

[node name="Future" type="Node2D" parent="."]

[node name="BridgeFutureTemp" type="Sprite2D" parent="Future"]
position = Vector2(-147, -80)
texture = ExtResource("2_h3mss")

[node name="OtherCollisions" type="Node2D" parent="Future"]

[node name="BridgeEdges" type="StaticBody2D" parent="Future/OtherCollisions"]
collision_layer = 2

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Future/OtherCollisions/BridgeEdges"]
position = Vector2(-1, -3)
polygon = PackedVector2Array(-135, -161, -136, -150, -136, -113, -112, -113, -111, -76, -146, -74, -146, 19, -3, 5, -19, -27, -34, -44, -34, -75, -64, -75, -61, -112, -39, -112, -31, -127, -41, -143, -59, -168, -129, -170, -135, -159)

[node name="StarFragment" parent="Future" instance=ExtResource("4_x0vyj")]
position = Vector2(-22, -94)

[node name="Walls" type="Node2D" parent="."]

[node name="StaticBody2D" type="StaticBody2D" parent="Walls"]
collision_layer = 3

[node name="Top wall" type="CollisionShape2D" parent="Walls/StaticBody2D"]
position = Vector2(-147, -170)
shape = SubResource("RectangleShape2D_of81s")

[node name="Bottom wall" type="CollisionShape2D" parent="Walls/StaticBody2D"]
position = Vector2(-147, 10)
shape = SubResource("RectangleShape2D_of81s")

[node name="Left" type="CollisionShape2D" parent="Walls/StaticBody2D"]
position = Vector2(-316, -28.75)
shape = SubResource("RectangleShape2D_3le00")

[node name="Right" type="CollisionShape2D" parent="Walls/StaticBody2D"]
position = Vector2(21, -25)
shape = SubResource("RectangleShape2D_3le00")

[node name="Right2" type="CollisionShape2D" parent="Walls/StaticBody2D"]
position = Vector2(21, -152)
shape = SubResource("RectangleShape2D_3le00")

[node name="Left2" type="CollisionShape2D" parent="Walls/StaticBody2D"]
position = Vector2(-316, -154)
shape = SubResource("RectangleShape2D_3le00")

[node name="SpawnPoint" parent="." instance=ExtResource("4_jxdx0")]
position = Vector2(-297, -92)
id = 4

[node name="SceneTransition" parent="." instance=ExtResource("5_l42oa")]
position = Vector2(17, -90)
destination_level = "res://scenes/world/Town1.tscn"
spawn_id = 6
collision_shape = SubResource("RectangleShape2D_wm5bs")

[node name="SceneTransition2" parent="." instance=ExtResource("5_l42oa")]
position = Vector2(-311, -92)
destination_level = "res://scenes/world/LabExterior.tscn"
spawn_id = 5
collision_shape = SubResource("RectangleShape2D_vanw0")

[node name="SpawnPoint2" parent="." instance=ExtResource("4_jxdx0")]
position = Vector2(0, -90)
id = 7
